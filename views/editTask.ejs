<%- include('partials/header', { title: 'Edit Task' }) %>

<section class="card">
  <h1 class="section-title">Edit task</h1>
  <p class="section-subtitle">
    Update the details or status of your task.
  </p>

  <form method="post" action="/tasks/edit/<%= task.id %>" class="form">
    <div class="form-group">
      <label class="form-label" for="title">Title</label>
      <input
        id="title"
        name="title"
        type="text"
        class="form-input"
        value="<%= task.title %>"
        required
      />
    </div>

    <div class="form-group">
      <label class="form-label" for="description">Description</label>
      <textarea
        id="description"
        name="description"
        class="form-textarea"
      ><%= task.description || '' %></textarea>
    </div>

    <div class="form-group">
      <label class="form-label" for="dueDate">Due date</label>
      <input
        id="dueDate"
        name="dueDate"
        type="date"
        class="form-input"
        value="<%= task.dueDate ? task.dueDate.toISOString().slice(0, 10) : '' %>"
      />
    </div>

    <div class="form-group">
      <label class="form-label" for="status">Status</label>
      <select id="status" name="status" class="form-select">
        <option value="pending" <%= task.status === 'pending' ? 'selected' : '' %>>
          Pending
        </option>
        <option value="completed" <%= task.status === 'completed' ? 'selected' : '' %>>
          Completed
        </option>
      </select>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn btn-primary">Save changes</button>
      <a href="/tasks" class="btn btn-outline">Cancel</a>
    </div>
  </form>
</section>

<%- include('partials/footer') %>
